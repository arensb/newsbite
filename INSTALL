REQUIRED SOFTWARE:

Make sure you have the following sofware packages installed:

- Web server (tested with Apache 2.2)
- PHP 5.x
- PHP modules:
	- Curl
	- MySQLi (not MySQL)
	- XML Parser
- MySQL 5.x
- Smarty template engine (included with this distribution)


INSTALLATION:

- Unpack the Newsbite distribution

	If you're reading this, you've probably unpacked the source tarball.
	If not, do so now.

- Create the database

	In MySQL, as a user with administrative rights:

	> create database newsbite character set 'utf8';
	> use newsbite;
	> source /path/to/schema.sql

	where "/path/to/schema.sql" is the path to the "schema.sql" file in
	the Newsbite distribution.

- Create a database user for the PHP scripts to access the database:

	Pick a username and password for the PHP scripts to access the
	database. Remember these, because you'll need them further
	down.

	In the example below, the database name is "newsbite", the
	user is "newsbiteuser", and the password is
	"newsbitepassword". Make substitutions as appropriate.

	In MySQL, as a user with administrative rights:

	> grant delete, insert, select, update
	  on newsbite.*
	  to `newsbiteuser`@`localhost`
	  identified by "newsbitepassword";

- Unpack the Smarty distribution

	If you already have Smarty installed, you can use that. If
	not, there's a copy of it in the "Smarty" subdirectory of the
	Newsbite distribution.

- Quick directory overview

	The main directories in the distribution include:

	- htdocs: PHP scripts that will be accessed by the user's
	  browser. These need to be in the web server's DocumentRoot.

	- htdocs/smarty: the distribution contains two empty
	  directories, "configs" and "templates_c", that are used by
	  Smarty templates.

	  Since the files that will be created there will be sent back
	  to the client, they may be put in the DocumentRoot, but need
	  not be.

	- lib: PHP files used by the scripts in "htdocs", but not
	  accessed directly by the browser. These do not need to be in
	  the DocumentRoot.

	- Smarty: Newsbite uses the Smarty template engine, and needs
	  to be able to find it. Smarty does not need to be installed
	  in the DocumentRoot.

- Install "htdocs"

	Copy the "htdocs" directory from the distribution to where you
	want it in the DocumentRoot.

- Add authentication in .htaccess

	* To use digest authentication:

	- Make sure mod_auth_digest is enabled in the Apache config:

	LoadModule auth_digest_module /path/to/mod_auth_digest.so

	- add to .htpasswd (in the same directory as the .php files):

	AuthType Digest
	AuthName "Newsbite on MySite"
	AuthDigestDomain /newsbite/
	AuthDigestProvider
	AuthUserFile /path/to/.digest_pw
	Require valid-user

	- Create .digest_pw

	> htdigst -c /path/to/.digest_pw "Newsbite on MySite" myusername
	Adding password for myusername in realm Newsbite on MySite.
	New password: 
	Re-type new password: 

- Install "htdocs/smarty"

	The directory "htdocs/smarty" does not really need to be in
	the DocumentRoot. You can move it elsewhere if you like.

	"htdocs/smarty/templates_c" needs to be writable by the user
	that will be running the Newsbite PHP scripts (usually the
	user that Apache runs as, e.g. "httpd").

	In the shell, as root, run:

	# chown httpd /path/to/smarty/templates_c
	# chmod 755 /path/to/smarty/templates_c

- Install "lib"

	Copy the "lib" directory to where you want it. This does not
	need to be in the DocumentRoot.

	If you're not concerned with security, you can install it
	underneath the "htdocs" directory.

- Install Smarty

	If you already have Smarty installed, find the directory that
	contains the file "Smarty.class.php". You'll need it later.

	If you don't already have Smarty installed, then unpack the
	copy that came with Newsbite (if you haven't already done so).

	Find the directory that contains the file "Smarty.class.php",
	and copy it somewhere. This does not need to be in the
	DocumentRoot. If you're not concerned with security, you can
	put it underneath "htdocs".

	Remember where you put it. You'll need it later.

- Edit the config file

	"lib/config.inc" in the distribution contains configuration
	options for Newsbite. Edit it (wherever you installed it).
	Read the comments to see what each option does.

- Make sure the PHP files can find the "lib" files.

	The distribution contains a "htdocs/.htaccess" file that tells
	PHP to look for auxiliary files in "./lib". Change "./lib" to
	the full pathname to wherever you put the "lib" directory.
	That is, if "config.inc" is in /foo/bar/config.inc, then the
	.htaccess file should contain

	<IfModule mod_php5.c>
		php_value include_path "/path/to/lib:/path/to/Smarty"
	</IfModule>

	where "/path/to/lib" is the directory where you put the lib/*
	files, and "/path/to/Smarty" is where you put the Smarty
	files.

	If you're not running Apache, you'll have to do this some
	other way.

- Point your browser at wherever you put the htdocs/* files.

	You should be prompted for a password. Once you do, you'll see
	a page with a toolbar and not much else.

- Change to a prettier skin

	You'll need to have cookies turned on for this to work.

	"fancy" is the best supported skin.

- Add some feeds.

	Click on "Add a feed". Or, if you have an OPML file from
	another newsreader, you can import that with "Import OPML
	file".

- (Optional) Add a cron job to update feeds

	Or you can just do it manually.

	0 7,9,11,14,17,20 * * * /usr/local/bin/php-cgi -d include_path=/path/to/lib /path/to/htdocs/update.php -- id=all >/dev/null

- (Optional) Add a cron job to clean up old Smarty files

	Or you could just delete them whenever you upgrade Newsbite.

And you're finally done.
