2008-11-08  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* htdocs/addfeed.php: When adding a feed, refresh it immediately,
	then redirect to the feed's page.

	* lib/net.inc: update_feed(): return something intelligent.

	* schema.sql: feeds are active by default.

	* fix-schema-r213.sql (added): script to fix schema.

	* Renamed lib/feed.inc to lib/parse-feed.inc.

	* htdocs/addfeed.php: minor changes.

	* lib/net.inc (added): network-related utilities.

	* htdocs/update.php: Moved network-related functions to
	lib/net.inc

	* htdocs/skins/fancy/view.css: Scrollbar on individual articles
	that are wider than the window: not so gret, aktchully.

2008-11-07  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* htdocs/skins/fancy/item.tpl: Probably insignificant bug fix.

	* MANIFEST: Added the two schema-fixing scripts.

	* lib/database.inc: Bug fix: when updating a feed, a nonexistent
	'active' field was interpreted as meaning that the feed was no
	longer active, which broke lots of things.

2008-11-06  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* Renamed fix-schema-206.sql to fix-schema-r206.sql, for
	consistency.

	* htdocs/editfeed.php, htdocs/skins/fancy/editfeed.tpl,
	lib/database.inc: Can now deactivate feeds on the edit page.

2008-11-03  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* htdocs/skins/fancy/item.tpl, htdocs/skins/fancy/view.css: Update
	item display: try to save space.

	* htdocs/addfeed.php: Bug fix: use correct subscription URL this
	time.

	* htdocs/skins/fancy/view.js: Bug fix: not noticing "ok" response
	to marking item.

	* htdocs/markitems.php: Make sure JSON text is also XML-compliant,
	to work around Firefox bug/pickiness.

2008-10-27  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* lib/feed.inc: When "author" given without details, assume it's a
	name, not email or URL.

	* lib/database.inc: Store author as plain text in database, not
	HTML.

	* lib/feed.inc: Added handler for <dc:creator> (ought to be in a
	separate plugin).

	* htdocs/skins/fancy/view.js: When marking items through Ajax, get
	status from server before concluding that all went well.

	* htdocs/update.php: Tidiness.

	* lib/database.inc: Use multiple fields when constructing author
	to put in database.

	* Makefile: Use SVN revision in distro filename instead of
	artificial version number.

2008-10-26  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* htdocs/skins/fancy/view.js: when sending Ajax requests to mark
	items, keep track of which items have been marked. If the request
	doesn't go through, put the current list of items back on the job
	queue.

	* htdocs/skins/fancy/index.css: Take advantage of gray background.

	* MANIFEST: Added gray background image.

2008-10-06  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* htdocs/skins/fancy/view.css: Image background. Removed debugging
	outline (was showing up full-screen on N810). Use CSS3 "opacity"
	instead of Firefox-specific "-moz-opacity". Now works in Safari;
	yay! No borders around image links.

2008-10-01  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* lib/database.inc: Fix how last_update is set when adding new
	items.

2008-09-23  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* htdocs/setskin.php, lib/skin.inc: Added Skin::setskin()
	function. Fixed Skin::__construct to use that. Also fixed
	setskin.php to use setskin() to set the new skin, and also to use
	the new skin as soon as it's set.

	* htdocs/skins/fancy/view.css: First attempt at making prettier
	form buttons.

	* htdocs/update.php: Display real error message when can't update
	feed.

	* lib/skin.inc (Security): Additional check for skin cookie.

2008-09-18  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* htdocs/skins/fancy/view.js, htdocs/skins/fancy/item.tpl,
	htdocs/skins/fancy/view.css: Change appearance of items in two
	stages: once when the "mark as read" box has been checked, and
	once when the server has confirmed that the item has been marked.

	* htdocs/skins/default/setskin.tpl (bug fix): fixed name of form
	to not interfere with cookie of the same name.

2008-09-17  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* lib/feed.inc: Bug fix: Atom uses <id>, not <guid>.

2008-09-12  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* lib/feed.inc: Removed stray trace statement, which was being
	sent to JS in client, and confusing it.

	* htdocs/update.php: Ugly hack to prevent error message in Firefox
	error console.

	* htdocs/setskin.php, htdocs/skins/fancy/setskin.tpl (bug fix):
	Cookie named 'skin' was shadowing input element 'skin', making it
	impossible to change skin.

	* htdocs/skins/default/feed-title.tpl: Separate template for item
	title, copied from fancy skin.

	* htdocs/skins/default/feeds.tpl: Copied changes from fancy skin.

2008-09-11  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* htdocs/skins/fancy/view.js, htdocs/skins/fancy/view.css,
	htdocs/skins/fancy/view.tpl: Minor tweaks: debugging statements
	and such.

2008-09-06  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* lib/feed.inc: Plugin to insert images for GoComics.com comics.

2008-09-02  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* htdocs/markitems.php: Accept list of items from Ajax.

	* htdocs/skins/fancy/view.js: First pass at marking items as read
	immediately.

	* htdocs/skins/fancy/view.css: Opacity for read items.

	* htdocs/skins/fancy/view.tpl: No JavaScript initialization.

	* Makefile: Bumped up version number.

	* schema.sql: longer columns for URLs.

2008-08-16  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* Makefile: better cleaning.

	* htdocs/skins/fancy/view.js: When marking an item as read (and
	collapsing it), scroll the window so that the top is visible.

	* htdocs/skins/fancy/view.css: Removed unneeded rules.

	* MANIFEST: Removed Smarty cache directory. No longer needed.

	* Makefile: Bumped up version number.

2008-08-15  Andrew Arensburger  <arensb@carrot.ooblick.com>

	Begun work on marking items as read/unread on the fly.

	* htdocs/skins/fancy/view.js: Added mark_item()

	* htdocs/skins/fancy/item.tpl: Added 'state=' attribute to item,
	so it can be marked on the fly, and 'onclick=' handler for
	checkboxes. Added pub_date to item header, so that when items are
	removed from the page, there won't be stray dates floating around.

	* htdocs/skins/fancy/view.css: Added rules for displaying collapsed
	items.

	* htdocs/skins/fancy/view.tpl: Removed date between items, so
	items can be removed one at a time.

2008-08-14  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* MANIFEST: Added missing file.

2008-08-11  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* htdocs/skins/fancy/feed-title.tpl (added): template for
	displaying feed title, number of read/unread messages.

	* htdocs/skins/fancy/feeds.tpl: Move feed title to feed-title.tpl

	* htdocs/skins/fancy/feeds.js: After updating feed, update title and
	status.

	* htdocs/update.php (bug fix): send JSON output as
	"text/plain+xml", to work around a bug in Firefox 2.
	Somewhat better error-checking in various places.
	After updating feed, get info and send it to JS, using
	"feed-title.tpl" template.

	* lib/database.inc (bug fix): error in SQL query.

2008-08-10  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* lib/feed.inc: explicitly mark downloaded feed as binary: we'll
	do character conversion later, when parsing the XML.

	* lib/skin.inc: turn off cache directory: it doesn't seem to be
	used anyway.

	* htdocs/smarty/cache: deleted

2008-08-09  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* lib/database.inc: Delete old items at the end, not the
	beginning. That way, old articles don't keep on popping up in
	feeds with ancient items.

2008-08-05  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* MANIFEST: Added missing files to MANIFEST.

	* Added icons for feeds view.

	Started adding JavaScript magic.

	* htdocs/skins/fancy/feeds.tpl: Add onclick= attributes for
	updating feeds. Tell JavaScript scripts where to find skin files.

	* htdocs/skins/fancy/index.css: Nail down size of icon cell in
	table.

	* htdocs/skins/fancy/feeds.js (added): Ajax functions for index
	view.

	* lib/common.inc: Added jsonify().

	* htdocs/update.php: Use jsonify() for JSON output.

	* AUTHORS: Added credit for icons used in feed update.

	* lib/database.inc: db_update_feed() returns count of
	old/new/updated items.

2008-07-28  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* htdocs/markitems.php: Better error messages, for debugging. Use
	abort() for abnormal termination.

	* htdocs/update.php: Some refactoring: added fetch_url(),
	_http_status() in order to separate functions within
	update_feed().

	* htdocs/index.php: Remove cookie message.

	* php.ini: (temporarily?) added path to real include files.

	* lib/database.inc: Print count of updated items when there
	weren't any.

2008-07-26  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* htdocs/markitems.php: trace message for debugging.

	* htdocs/update.php: handle JSON output.

	* lib/feed.inc: Don't print error message: set $feed_errmsg
	instead.

	* lib/database.inc: Handle JSON output.

	* MANIFEST: Added missing files.

2008-07-22  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* htdocs/setskin.php: added.

	* htdocs/skins/fancy/feeds.tpl, htdocs/skins/fancy/setskin.css,
	htdocs/skins/fancy/setskin.tpl: Applied skin stuff from
	skins/default -r153:154 to fancy.

	Added rudimentary skin support.

	* htdocs/skins/default/feeds.tpl, htdocs/skins/default/view.tpl:
	Link to setskin.php in toolbar.

	* htdocs/skins/default/setskin.css,
	htdocs/skins/default/setskin.tpl (added)

2008-07-21  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* htdoc/skins/fancy (added): split from htdocs/skins/default.

	* htdocs/skins/fancy/view.tpl: Added "Change skin" link.

	* lib/skin.inc: Pick skin in constructor instead of at display
	time.

	* lib/config.inc: More and better comments. Removed local
	customization.

	* htdocs/skins/default/view.css, htdocs/skins/default/view.tpl:
	somewhat prettier layout.

	* htdocs/loadopml.php: Somewhat prettier output.

	* lib/feed.inc: fewer trace statements.

	* lib/database.inc: fewer trace statements. Print number of
	old/new/updated items in feed, when updating.

	* INSTALL: Rewrote installation instructions.

	* MANIFEST: Added some missing files.

	* Makefile: Added 'missing' target, to find files that aren't in
	manifest.

2008-07-20  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* htdocs/update.php: Consolidated the two sets of initialization
	and closing code.

	* htdocs/update.php (bug fix): update_feed() wasn't caching feed
	file properly. Some cleanup.

	* htdocs/skins/default/item.tpl (bug fix): an earlier change broke
	"Mark all items as read".

	* htdocs/skins/default/index.css: minor cleaning.

	* htdocs/skins/default/item.tpl, htdocs/skins/default/view.css:
	Display item author, if known.

	* htdocs/skins/default/view.css: Oops. Removed unneeded style.

	* htdocs/skins/default/item.tpl, htdocs/skins/default/view.css:
	Put "Read more" in the item footer. Made the links in the footer
	be in a list, for expandability.

	* htdocs/skins/default/view.tpl: Added "Update feed"/"Update all
	feeds" link to tool bar.

	* htdocs/skins/default/view.js, htdocs/skins/default/item.tpl,
	htdocs/skins/default/style-nojs.css,
	htdocs/skins/default/style-js.css, htdocs/skins/default/view.css:
	Redid the way items are displayed: now the toggle bars, summary,
	and content are all direct descendants of <div content-panes>, and
	CSS determines what is and isn't shown.

2008-07-19  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* htdocs/skins/default/item.tpl, htdocs/skins/default/view.css,
	htdocs/skins/default/view.tpl: Instead of putting date on each
	item, have a date separator when the date changes.

	* htdocs/editfeed.php: use abort().

	* htdocs/skins/default/feeds.tpl, htdocs/skins/default/index.css:
	Consolidated tools into a toolbar.

	* htdocs/skins/default/view.tpl: HTML-escape title.

	* htdocs/editfeed.php, htdocs/view.php, htdocs/markitems.php,
	htdocs/skins/default/abort.css, htdocs/skins/default/abort.tpl,
	htdocs/update.php, htdocs/unsubscribe.php, lib/common.inc,
	lib/feed.inc: Added abort() function, to abort more gracefully in
	case of error. Use it everywhere.

	* htdocs/skins/default/view.css, htdocs/skins/default/view.tpl:
	Prettier feed tool menu.

	* lib/database.inc (bug fix): feed wasn't being updated properly.

	* htdocs/editfeed.php: Redirect to view.php when done. Removed
	artificial error conditions.

	* htdocs/addfeed.php: Redirect to index.php when done.

	* htdocs/unsubscribe.php: Start of better error-handling.

	* htdocs/skins/default/unsubscribe.tpl: Show site and feed URLs
	when asking for confirmation to unsubscribe, so user can make sure
	that's what ve wants to do.

	* htdocs/skins/default/unsubscribe.css: Use fixed-width font for
	URLs.

	* htdocs/skins/default/view.tpl: Added useful links.

	* htdocs/skins/default/view.css: Set body margin to 0, so elements
	can go right up to the sides of the browser window.

	* htdocs/update.php: Trace statements. Should be removed.

	* lib/feed.inc (bug fix): allow whitespace around
	<![CDATA[...]]> (was breaking Joel on Software feed).

2008-07-17  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* Ignore 'dist' in svn.

	* htdocs/skins/default/feeds.tpl: Put feed info on a single line.

	* htdocs/skins/default/view.tpl: Moved nav bar outside form, so it
	shows up even if there aren't any articles to display.

	* htdocs/update.php: Error messages, mainly for debugging.

	* lib/feed.inc (bug fix): Initialize $feed_err properly.
	Otherwise, after one feed is bad, it thinks that all other feeds
	are bad as well.

	* lib/database.inc: If last_update not given, keep the old value.

	* MANIFEST, Makefile (added): Makefile for generating a
	distribution from MANIFEST.

2008-07-16  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* AUTHORS: added Brian, Arthur Clarke.

	* TODO: Noted some bugs.

	* lib/database.inc: explicitly set character set for connection.

	* lib/config.inc: more comments.

	* INSTALL: updated instructions somewhat.

2008-07-15  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* lib/common.inc (added): commonly-used functions that don't fit
	elsewhere.

	* htdocs/markitems.php: use redirect_to() to redirect when
	successful.

	* htdocs/skins/default/opml.css (added): empty, but is referenced
	elsewhere.

	* htdocs/update.php: Send dummy agent string: some sites require
	it.

2008-07-14  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* htdocs/loadopml.php (added), htdocs/skins/default/feeds.tpl,
	htdocs/skins/default/opml.tpl: Added support for loading OPML
	files.

	* htdocs/skins/default/feeds.tpl (bug fix): escape title,
	subtitle, in case they contain special HTML characters.

	* lib/database.inc: Removed extraneous verbosity from
	db_add_feed().

2008-07-13  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* htdocs/opml.php: opml.php is now a standalone utility. It
	doesn't parse OPML files.

	* htdocs/opml.php (added): currently, it just dumps the
	subscription list as OPML.

	* htdocs/view.php (bug fix): make "Later" link show up correctly
	(off-by-one error).

	* skins/default/view.css: "pointer" cursor
	on {expand,collapse}-bar.

	* lib/database.inc (bug fix): Fixed the way dates are set on items
	in feeds that don't give a publication/update time.

	* TODO: Noted bug.

2008-07-12  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* htdocs/skins/default/view.js, htdocs/skins/default/item.tpl,
	htdocs/skins/default/view.css, htdocs/skins/default/view.tpl:
	Fixed expand/collapse not working. Prettier default skin.

	* htdocs/skins/default/view.css: slight tweak to look prettier.

	* htdocs/skins/default/item.tpl, htdocs/skins/default/view.css:
	Moved things around in item footer.

2008-07-11  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* lib/skin.inc: Fixed compile_id.

	* Merged in changes from new-skin branch.

	* lib/skin.inc (added), htdocs/editfeed.php, htdocs/view.php,
	htdocs/addfeed.php, htdocs/update.php, htdocs/unsubscribe.php,
	htdocs/index.php, lib/config.inc:
	Added lib/skin.inc, with a Skin wrapper class for Smarty.
	Updated utilities to use this instead of Smarty directly.

	* htdocs/skins/default/unsubscribe.tpl,
	htdocs/skins/default/view.js, htdocs/skins/default/editfeed.tpl,
	htdocs/skins/default/addfeed.tpl, lib/database.inc: Moved view.js
	to htdocs/skin/default, since it really belongs there. Removed
	view.js from templates that don't need it.

	* htdocs/markitems.php, htdocs/skins/default/view.css,
	htdocs/skins/default/view.tpl, htdocs/skins/default/item.tpl:
	Updated for 'is_read' boolean field instead of 'state' enum.

	* README.hacking (added) Guidelines for programmers.

2008-07-10  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* schema.sql: 'items.states' column got too cumbersome. Replaced
	it with a 'is_read' boolean flag (and all the fallout from that
	:-( ). No distinction anymore between "new" and "unread".

	* lib/database.inc: discovered the ISNULL() function. Huzzah! One
	less hack!
	(Bug fix): read items no longer show up as unread/new when the
	feed is refreshed.
	db_mark_items(): new arguments.

	* htdocs/view.php, htdocs/markitems.php,
	htdocs/skins/default/feeds.tpl, htdocs/skins/default/item.tpl:
	fallout from 'state'->'is_read'.

2008-07-09  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* htdocs/editfeed.php, htdocs/view.php, htdocs/addfeed.php,
	htdocs/unsubscribe.php, htdocs/index.php, lib/config.inc: Set skin
	to "default" in config.inc. Set compile_id in Smarty.

2008-07-08  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* htdocs/addfeed.php, htdocs/editfeed.php, htdocs/index.php,
	htdocs/skins/default/addfeed.css,
	htdocs/skins/default/addfeed.tpl,
	htdocs/skins/default/editfeed.css,
	htdocs/skins/default/editfeed.tpl, htdocs/skins/default/feeds.tpl,
	htdocs/skins/default/index.css, htdocs/skins/default/style-js.css,
	htdocs/skins/default/style-nojs.css,
	htdocs/skins/default/style.css,
	htdocs/skins/default/unsubscribe.css,
	htdocs/skins/default/unsubscribe.tpl,
	htdocs/skins/default/view.css, htdocs/skins/default/view.tpl,
	htdocs/unsubscribe.css, htdocs/view.php: Moved *.css files to
	htdocs/skins/default. Updated Smarty calls accordingly.

	* htdocs/smarty/templates: Moved htdocs/smarty/templates to
	htdocs/skins/default, as preparation for supporting multiple
	skins.

2008-07-07  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* htdocs/smarty/templates/feeds.tpl: "unsub" link in feed list.

	* lib/database.inc: Added db_delete_feed() to implement the guts
	of unsubscription.

	* htdocs/smarty/templates/unsubscribe.tpl, htdocs/unsubscribe.php,
	htdocs/unsubscribe.css (added): Added facility for unsubscribing
	from a feed.

	* htdocs/smarty/templates/addfeed.tpl: Too much copy-and-paste.

	* lib/feed.inc: slightly more specific error-reporting.

	* htdocs/addfeed.php, htdocs/addfeed.css,
	htdocs/smarty/templates/addfeed.tpl (added), lib/database.inc:
	Added rudimentary ability to subscribe to a new feed.

	* htdocs/smarty/templates/feeds.tpl,
	htdocs/smarty/templates/view.tpl (bug fix): Use {foreach} insted
	of {section}. D'oh!

2008-07-06  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* htdocs/view.php: (bug fix) Display updated items.

2008-07-05  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* htdocs/smarty/templates/feeds.tpl,
	htdocs/smarty/templates/view.tpl, htdocs/style.css,
	htdocs/index.css, htdocs/view.css: Split up giant unmanageable
	"style.css" into per-page CSS files. Each page now reads both
	"style.css" and "<somepage>.css".

	* htdocs/editfeed.php, htdocs/editfeed.css,
	htdocs/smarty/templates/editfeed.tpl (added): allow editing the
	user-configurable parts of a feed (the ones that don't get pulled
	in from the feed).

	* htdocs/smarty/templates/feeds.tpl: Display feed nickname instead
	of title, if it's been set. Added "Edit" link, to edit options.

	* htdocs/update.php: in determining whether to use authentication,
	check whether username/passwd is empty string, rather than whether
	it's non-NULL.

	* lib/database.inc: Added db_update_feed_info(). db_update_feed()
	now uses db_update_feed_info(). Use $dbh instead of $sth
	throughout.

2008-07-04  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* htdocs/update.php: More visible (bold) error messages.

	* Merged from branches/xml-parser:

	* lib/feed.inc: rewritten to use the XML Parser PHP module. A few
	changes to the handler API.

	* lib/feed.inc.old: old version of feed.inc.

	* htdocs/lib, htdocs/.htaccess: use a relative symlink to find the
	.inc files. Makes things more portable.

	* branches/xml-parser/lib/feed.inc: Working version of feed.inc,
	using XML Parser.

2008-06-30  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* branches/xml-parser/htdocs/.htaccess: use 'lib' symlink in PHP
	path.

	* branches/xml-parser/htdocs/lib (added): relative symlink to
	'lib' directory.

2008-06-30  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* htdocs/view.php, TODO, lib/database.inc (bug fix): fixed "view
	one feed" bug.

	* TODO: Found bug.

	* htdocs/smarty/templates/feeds.tpl,
	htdocs/smarty/templates/item.tpl, htdocs/view.php,
	htdocs/style.css, lib/database.inc: Can now view items from all
	feeds, in reverse chronological order. db_get_feeds() now returns
	assoc indexed by feed ID, instead of simple array.

2008-06-29  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* lib/feed.inc: Note weirdness in parsing malformed timestamps.

	* htdocs/smarty/templates/view.tpl, htdocs/view.php,
	htdocs/style.css: 'view.php' now takes 's' parameter, for "start".
	Added earlier/later navigation links in feed view.

2008-06-28  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* htdocs/smarty/templates/view.tpl,
	htdocs/smarty/templates/item.tpl, htdocs/view.php,
	htdocs/markitems.php: view.tpl now has button to mark all
	displayed articles as read.

	* htdocs/smarty/templates/item.tpl, htdocs/style.css: Prettier
	expand/collapse bars in view.php.

2008-06-27  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* htdocs/view.php: once items have been sent to browser, change
	state from "new" to "unread".

	* htdocs/smarty/templates/item.tpl, htdocs/style-js.css,
	htdocs/view.js, htdocs/style.css, htdocs/style-nojs.css: Showing
	only summary was a mistake. Show the entire content, if available.

	* htdocs/smarty/templates/view.tpl,
	htdocs/smarty/templates/item.tpl, htdocs/style-js.css,
	htdocs/view.js, htdocs/style.css, htdocs/style-nojs.css: First
	attempt at dealing sensibly with item summaries and contents.

	* htdocs/update.php, TODO, lib/feed.inc, lib/config.inc:
	(bug fix): If a feed doesn't parse properly, ignore it and abort
	the update.

2008-06-26  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* tests/ (added)

	* htdocs/smarty/templates/item.tpl, htdocs/markitems.php,
	htdocs/style.css: Prettier look for item header.

2008-06-25  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* htdocs/smarty/templates/view.tpl,
	htdocs/smarty/templates/item.tpl, htdocs/style.css: Changed CSS
	identifiers to use dashes instead of underscores.

2008-06-24  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* lib/database.inc: db_get_feed_counts() and
	db_get_all_feed_counts() now also retrieve the latest 'pub_date'
	and 'last_update' times for the feed(s).

	* htdocs/smarty/templates/view.tpl,
	htdocs/smarty/templates/item.tpl: split out the Smarty code for a
	single item into its own template (for modularity and Ajax-ity).

	* htdocs/view.php: Show 25 items at a time instead of 3. Other
	minor changes.

	* markitems.php: This page is now invisible: make changes, and if
	everything went well, redirect back to where we came from.

	* lib/database.inc: Deleted db_get_feed_items(), since it's no
	longer used.

	* lib/database.inc: db_get_all_feed_counts() now gets a row for
	each feed, even the ones without any items. (Still not quite
	right, though.)

	* lib/database.inc: Added db_get_some_feed_items().

	* htdocs/view.php: Use db_get_some_feed_items().

	* htdocs/smarty/templates/feeds.tpl: Bug fix: item counts were off
	by one. Added $feed_id variable, for convenience.

	* Added htdocs/markitems.php: form to mark items as read (or
	unread, or whatever).

	* htdocs/smarty/templates/feeds.tpl: show item counts for each
	feed. Added placeholder column to put update/status icon.

	* htdocs/smarty/templates/view.tpl: the entire page is now a form,
	so can update status of items. Added radio buttons at top and
	bottom of items. Don't display <h5> headers anymore. Don't display
	empty item content. Moved the "no new articles" bit outside the
	form, so empty feeds don't have pointless "submit" buttons.

	* htdocs/style.css: minor tweaks.

	* htdocs/index.php: get statistics for each feed.

	* lib/database.inc: added db_get_feed_counts(),
	db_get_all_feed_counts(), db_mark_items().

	* schema.sql: schema.sql: State of an item may not be NULL.

2008-06-22  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* lib/feed.inc: Bug fix: feed.inc: <enclosure> wasn't handled
	properly.

2008-06-21  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* templates/view.tpl, htdocs/style.css: display feed subtitle, if
	available. "To do" item tweaking.

	* lib/database.inc: database.inc: Update information about the
	feed itself, if it changes.

	* htdocs/update.php: Extract HTTP error code from each feed, so
	that we can figure out whether the transfer completed successfully
	or not.

	* TODO: Added, removed, rearranged "to do" items.

	* TODO: More "to do" items.

	* lib/database.inc: Bug fix: avoid PHP error messages by not
	iterating over nonexistent array.

	* lib/feed.inc: RDF handler wasn't setting items' URL properly.

	* htdocs/style.css: Don't underline links in titles.

	* lib/feed.inc: Added feed handler for <content:encoded>, since
	many RSS feeds use it to show the contents of items.

	* lib/database.inc: Bug fix: items.pub_date not being set properly
	in db_update_feed().

	* htdocs/update.php, lib/feed.inc: When fetching multiple feeds
	with update_all_feeds(), use username and password if provided.
	Consequently:
	Bug fix: "update.php" doesn't barf on everything if an update
	fails for lack of password.

	* php.ini: Added php.ini for testing and debugging.

	* TODO: Found bug: "update all" doesn't work correctly.

	* Bug fix: if an item doesn't have a publication time, try to
	inherit one from the feed. If that fails, use the current time.

	* TODO: Found bug: pubDate in apod feed not making it into
	database.

	* lib/feed.inc: Renamed lib/rss.inc to lib/feed.inc, since it
	doesn't just handle RSS.

	* lib/database.inc: Moved database.inc from htdocs/ to lib/.

	* lib/rss.inc: Completely redid lib/rss.inc: it now uses XMLReader
	instead of simple_xml, so it understands namespaces. Now supports
	plugin mechanism for handling different feed types. Supports
	RSS (0.9x and 2.0, and probably 1.0), RDF, and Atom.

2008-06-20  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* AUTHORS: Added author list.

	* schema.sql: Schema: item guid is mandatory.

	* lib/rss.inc: Typo, "to do" item.

2008-06-12  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* TODO: Removed bug fix "to do" item.

	* lib/database.inc (bug fix) Fixed update inserting duplicate
	articles.

	* TODO: Bug report. Key-binding "to do" item.

	* lib/database.inc, lib/config.inc, htdocs/update.php: Added
	support for curl_multi_*, to update multiple RSS feeds in
	parallel. Added $PARALLEL_UPDATES config variable to control how
	many feeds are updated at one time. Moved SQL part of
	update_feed() to database.inc, where it belongs.

	* lib/rss.inc: parse_feed(): Return FALSE on error, instead of
	exit()ing.

2008-06-11  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* database.inc: Moved 'database.inc' from htdocs to lib.

2008-06-10  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* TODO: More to do items. Outline of how to redo RSS parsing with
	plugins.

	* htdocs/update.php: Tweaked comments.

2008-06-08  Andrew Arensburger  <arensb@carrot.ooblick.com>
	* htdocs/style.css: Tweaked appearance of items a bit.

	* htdocs/view.php: Check to make sure $feed_id is an integer.
	Remove FeedBurner bugs and crap.

	* lib/config.inc, htdocs/update.php: Added $AUTODELETE_DAYS.
	Delete old items when updating.

	* schema.sql: Fiddled with comments.

	* TODO: Added, removed some items.

	* INSTALL: Fixed name of config file.

	* htdocs/view.php, htdocs/update.php, htdocs/index.php,
	htdocs/database.inc: Fix name of config file to include.

	* htdocs/.htaccess: Set PHP include_path so user-visible PHP
	scripts find the *.inc files
	(which shouldn't be user-visible).

	* htdocs/smarty/templates/view.tpl,
	htdocs/smarty/templates/feeds.tpl: Added XHTML document type
	declaration.

2008-06-07  Andrew Arensburger  <arensb@carrot.ooblick.com>
	* htdocs/smarty/templates/view.tpl, htdocs/view.php,
	htdocs/style.css: Somewhat nicer view.

	* htdocs/database.inc: db_get_feed_items: pass argument by
	reference, for efficiency (ha!).

	* htdocs/update.php: Some debugging statements.

2008-06-01  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* parsefeed.php: First version: support for RSS, Atom, and
	RDF (hack).

2008-05-31  Andrew Arensburger  <arensb@carrot.ooblick.com>

	* README: Added some required packages/modules.
